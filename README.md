# Velo-Recog 项目

## 项目简介
Velo-Recog 是一个基于光流法的视频处理工具，旨在通过分析视频帧中的运动轨迹，计算物体的位移、速度和加速度，并生成可视化结果。该工具适用于运动分析、交通监控等场景。本项目以测量小球的运动为例，通过解析视频序列图像，提取特征点位置变化，计算目标对象的运动速度。

## 功能特性
- **光流计算**：采用 Lucas-Kanade 方法计算视频帧中的光流。
- **运动参数计算**：支持位移、速度和加速度的计算。
- **视频可视化**：生成包含原始帧、灰度帧和光流轨迹的可视化视频。
- **运动曲线绘制**：生成时间-位移、时间-速度和时间-加速度曲线。

## 文件结构
- `main.py`：主程序文件，包含核心逻辑。
- `Video.avi`：输入视频文件。
- `Output.avi`：输出可视化视频文件。
- `Result.png`：保存的运动曲线图。

## 使用方法
1. **安装依赖**  
    确保已安装以下 Python 库：
    ```bash
    pip install opencv-python numpy matplotlib
    ```

2. **准备输入视频**  
    将待处理的视频文件命名为 `Video.avi` 并放置在项目根目录。

3. **运行程序**  
    执行以下命令运行主程序：
    ```bash
    python main.py
    ```

4. **查看结果**  
    - 输出视频文件 `Output.avi` 将保存在项目根目录。
    - 运动曲线图 `Result.png` 将保存在项目根目录。

## 参数说明
- **相机参数**：
  - 型号：研华 QCAM-GM2500-014DE 工业摄像机
  - 传感器尺寸：`5.70 mm x 4.28 mm`
  - 分辨率：`2592 x 1944 px`
  - 焦距：`5.0 mm`
  - 物体距离：`2.35 m`
- **帧率**：程序会自动从输入视频中提取。

## 可视化示例
- **输出视频**：展示原始帧、灰度帧和光流轨迹。
- **运动曲线**：包含时间-位移、时间-速度和时间-加速度曲线。

## 注意事项
- 输入视频的分辨率和帧率应与相机参数匹配，以确保计算结果的准确性。
- 如需处理其他格式的视频，请修改 `main.py` 中的 `video_path` 参数。

## 许可证
本项目遵循 MIT 许可证，详情请参阅 LICENSE 文件。
